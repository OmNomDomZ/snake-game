# Многопользовательская игра "Змейка"

## Описание проекта
Этот проект представляет собой многопользовательскую игру "Змейка". Игроки управляют змейками, собирают еду, растут и избегают столкновений. Игра поддерживает взаимодействие нескольких участников и реализована на основе единого протокола.

---

## Основные особенности

- **Игровое поле**:
    - Прямоугольное замкнутое пространство (дискретный тор).
    - Размер поля настраивается перед началом игры.

- **Змейки**:
    - Управляются игроками через команды.
    - Двигаются дискретно по клеткам.
    - Растут при сборе еды.

- **Еда**:
    - Размещается случайно на свободных клетках.
    - Количество еды зависит от числа активных змей.

- **Столкновения**:
    - При столкновении змейка погибает.
    - Клетки погибшей змейки частично превращаются в еду.

---

## Технические аспекты

### Протокол взаимодействия
Взаимодействие между игроками реализовано на основе протокола UDP. Формат сообщений описан в файле [`snakes.proto`](src/main/protobuf/snakes.proto).

#### Основные типы сообщений:
- **`AnnouncementMsg`** — рассылка информации о доступных играх.
- **`JoinMsg`** — запрос на подключение к игре.
- **`SteerMsg`** — изменение направления змейки.
- **`StateMsg`** — обновление состояния игры.
- **`AckMsg`** — подтверждение получения данных.
- **`PingMsg`** — keep-alive сообщения.
- **`RoleChangeMsg`** — уведомление об изменении роли узла.
- **`ErrorMsg`** — сообщения об ошибках.

### Архитектура
- **UDP сокеты**:
    - Один для multicast (обнаружение игр).
    - Второй для взаимодействия (unicast).

- **Роли узлов**:
    - **MASTER** — управляет игрой.
    - **DEPUTY** — резервная роль для MASTER.
    - **NORMAL** — игроки.
    - **VIEWER** — наблюдатели.

- **Обработка отказов**:
    - Если MASTER отключается, DEPUTY занимает его место.
    - Змейки отключённых игроков превращаются в "зомби".

---
